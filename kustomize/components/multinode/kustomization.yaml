apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component

patches:
  # Enable decode LeaderWorkerSet
  - target:
      kind: LeaderWorkerSet
      name: modelservice-decode-lws
    patch: |-
      - op: replace
        path: /spec/replicas
        value: 1
      - op: replace
        path: /spec/leaderWorkerTemplate/size
        value: 2

  # Prefill LWS remains disabled (replicas: 0)
  # If you want to enable prefill, add patches in your overlay